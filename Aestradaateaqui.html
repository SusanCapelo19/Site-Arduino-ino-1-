<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Estrada até aqui</title>
    <link rel="stylesheet" href="CSS/estilogeral.css">
    <link rel="stylesheet" href="CSS/estiloestrada.css">
    <link rel="stylesheet" href="CSS/problemas.css">
</head>
<body>


      <div class="intro-estrada">
          <video id="intro-estrada" autoplay loop muted>
              <source src="Assets/capa_intro_estrada.mp4" type="video/mp4" />
              Seu navegador não suporta vídeo HTML5.
          </video>


          <div class="intro-estrada">
              <h2>Pronto para entrar no inferno?</h2>
              <button id="start-audio" class="botao-iniciar">Vamos lá</button>
          </div>
      </div>


    <header style="display: none;">


    <div class="gif-grid">
        <img src="Assets/analisadordefrequencia.gif" alt="Analisador de Frequência"/>
        <img src="Assets/analisadordefrequencia.gif" alt="Analisador de Frequência"/>
        <img src="Assets/analisadordefrequencia.gif" alt="Analisador de Frequência"/>
    </div>
   
    <div class="titulo-central">
        <h1>A estrada até aqui</h1>        
        <nav class="menu">
      <ul>
        <li><a href="Analisador.html">A Missão</a></li>
        <li><a href="QBranch.html">Q Branch</a></li>
        <li><a href="TheMatrix.html">The Matrix</a></li>
        <li><a href="Viucomosefaz.html">Viu, como se faz</a></li>
        <li><a href="Aestradaateaqui.html">A estrada até aqui</a></li>
        <li><a href="ATrupe.html">A Trupe</a></li>
      </ul>
    </nav>
    </div>


    <div class="controle-audio">
      <button id="pause-audio" class="botao-pausar">PAUSAR MÚSICA</button>
    </div>
   
  </header>


  <audio id="bg-music" loop>
    <source src="Assets/audio_tema_supernatural.mp3" type="audio/mpeg" />
    Seu navegador não suporta áudio embutido.
  </audio>


  <main id="conteudo" style="display: none;">


    <section>
        <h2><b>O monstros e demônios que enfrentamos</b></h2>
        <h2><b>As lições que aprendemos no caminho</b></h2>
    </section>

    
    <div>
        <h3> Problemas enfrentados </h3>
        <h4> Módulo MAX7219 </h4>
        <p>
        O primeiro problema que enfrentamos foi configurar o módulo MAX7219. Para manipularmos o módulo, precisamos especificar a versão do módulo. 
        <p>
        Quando se usa a versão errada, a orientação dos módulos fica invertida (horizontalmente, verticalmente ou espelhada nos módulos 1 e 2).
        </p>
        <p>
        Sem saber nossa versão, usamos um programa da biblioteca para determinar o tipo de hardware — o programa exibe o nome de cada hardware alternando entre as versões; o nome de cada versão aparece invertido, exceto o nome do hardware do módulo sendo usado.
        </p>
        
        <h4> Microfone </h4>
        <p>
        O segundo problema foi com o microfone sendo usado. Planejamos usar o módulo KY 037, que tem saída digital e analógica. 
        <p>
        Embora o módulo tivesse um pré-amplificador, não conseguimos ajustar a sensibilidade com o trimpot para conseguirmos uma saída analógica sem ruído. 
        </p>
        <p>
        Procuramos substituir o microfone pelo módulo MAX4466. Foi difícil encontrar uma chave de fenda para mexer no potenciômetro do pré-amplificador, mas conseguimos deixar numa sensibilidade apropriada.
        </p>
        <h4> Programa </h4>
        <p>
        Finalmente, o terceiro desafio foi adaptar o programa para entradas com ganho variável. Buscamos adicionar uma variável para amplificar os valores do FFT por um coeficiente que varia com a média da intensidade dos valores de uma captura de amostras.
        </p>
        <p>
        Com isso, notamos que o circuito do microfone estava capturando muito ruído elétrico na faixa dos 0-100 Hz. Para resolver, adicionamos um filtro digital de high pass para filtrarmos as frequências mais graves.
        </p>
    </div>


  </main>


  <footer class="rodape" style="display: none;">
    <p>Equipe 11 | Arduino ino | Analisador de Frequência de Áudio | SD-ADS Regular | Cesar School | 2025</p>
  </footer>




    <script>


        document.getElementById("start-audio").addEventListener("click", () => {
        const audio = document.getElementById("bg-music");


        audio.play()
            .then(() => {        
            document.querySelector(".intro-estrada").style.display = "none";            
            document.querySelector("header").style.display = "block";
            document.getElementById("conteudo").style.display = "block";
            document.querySelector("footer.rodape").style.display = "block";
            })
            .catch((err) => {
            console.log("Erro ao iniciar áudio:", err);
            alert("Clique para permitir o som!");
            });
        });


        document.getElementById("pause-audio").addEventListener("click", () => {
        const audio = document.getElementById("bg-music");
        const botao = document.getElementById("pause-audio");


        if (audio.paused) {
            audio.play();
            botao.textContent = "PAUSAR MÚSICA";
        } else {
            audio.pause();
            botao.textContent = "RETOMAR MÚSICA";
        }
        });


    </script>
   
</body>
</html>
